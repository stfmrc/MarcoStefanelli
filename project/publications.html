<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publications</title>
    <!-- Link to CSS -->
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/educational.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/OrbitControls.js"></script>
    <script>
        window.MathJax = {
          tex: {
            displayMath: [['\\[', '\\]'], ['\\(', '\\)']]
          },
          svg: {
            scale: 1
          },
          options: {
            renderActions: {
              addMenu: []
            }
          }
        };
        </script>
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body class="publications"> <!-- Added class here -->
    <br><br>
    <br><br>
    <header>
        <h1>Publications</h1>
    </header>

    <main>
    
        <ul class="tool-list">
            <li>
                <details>
                    <summary>Data assimilation for advanced cross-scale unstructured grid ocean modelling</summary>

                    <p>
                      <p>
                        <em>
                            Stefanelli M, Jansen E, Aydoğdu A, Federico I and Coppini G (2025) <br>
                            Data assimilation for advanced cross-scale unstructured grid ocean modelling.<br>
                            Front. Mar. Sci. 12:1656879. doi: 
                            <a href="https://doi.org/10.3389/fmars.2025.1656879" 
                            target="_blank" 
                            rel="noopener noreferrer">
                            10.3389/fmars.2025.1656879
                            </a>
                        </em>
                        </p>
                        Coastal zones face growing threats from climate change, including sea-level rise and intensified storm activity. 
                        Accurate numerical modelling is essential to predict the impacts of anthropogenic and climate stressors on the coastal zone. 
                        However, it is also a very challenging environment due to complex coastlines, rapid topographic changes, and high spatial-temporal variability.
                        Unstructured grid models offer a promising solution, yet their integration with advanced data assimilation (DA) methods remains limited. 
                        This study presents the implementation of a 3D variational data assimilation (3DVar) scheme (OceanVar) within an unstructured-grid ocean model (SHYFEM). 
                        A key innovation involves generalizing the first-order recursive filter for horizontal background error covariances to work with triangular unstructured meshes. 
                        An experiment was conducted over the period 2017–2018, assimilating ARGO in-situ profiles, and sea level anomaly (SLA) data from altimetry satellite missions. 
                        Results show substantial skill improvement against a control run without assimilation, particularly in the 100–500 m depth range, 
                        where the mean absolute error was reduced by 25–30% through data assimilation. SLA assimilation had a more modest effect, improving MAE by about 
                        3% overall and up to 20% locally, without degrading temperature or salinity estimates. The study demonstrates the feasibility and benefits of applying 
                        a 3DVar scheme to unstructured grid ocean models, paving the way for more accurate and efficient coastal forecasting systems.
                        
                    </p>
                    <a href="https://www.frontiersin.org/journals/marine-science/articles/10.3389/fmars.2025.1656879/full" >
                        <button>Read the paper</button>
                    </a>
                </details>
            </li>
    
        </ul>
    </main>


    <footer>
        <p>&copy; 2025 Marco Stefanelli</p>
    </footer>
    <a href="../index.html">⬅️</a>
    <script>
        // Function to get current date and time in 'yyyy-mm-dd HH:mm:ss' format
        function getCurrentDateTime() {
            const now = new Date();
            const date = now.toISOString().split('T')[0]; // Extracts 'yyyy-mm-dd' from ISO format
            const time = now.toTimeString().split(' ')[0]; // Extracts 'HH:mm:ss' from time string
            return `${date} ${time}`; // Combine both date and time
        }
    
        // Generate a unique key for the page based on the URL or a custom identifier
        function getPageKey() {
            return window.location.pathname; // You can customize this if needed (e.g., use specific page IDs or URLs)
        }
    
        // Retrieve the page-specific counter and logs from localStorage
        const pageKey = getPageKey(); // Use the URL path as a unique key for each page
        let pageViewCount = parseInt(localStorage.getItem(`${pageKey}-pageViewCount`), 10) || 0;
        const todayDateTime = getCurrentDateTime(); // Get current date and time
    
        // Increment the page view count
        pageViewCount++;
    
        // Save the updated count back to localStorage (specific to this page)
        localStorage.setItem(`${pageKey}-pageViewCount`, pageViewCount);
    
        // Retrieve previous log entries for this page from localStorage (if any)
        let logEntries = localStorage.getItem(`${pageKey}-logEntries`);
        if (!logEntries) {
            logEntries = '';  // Initialize an empty log if no entries exist
        }
    
        // Function to generate and download the log file for the current page
        function downloadLogFile() {
            // Ask for a password to protect the download and reset the counter
            const passwordPrompt = prompt('Enter the password to download the log file.\n\nType "reset" to reset the counter and logs.');
            
            const correctPassword = '3.1415926'; // Change this to your desired password
    
            // If the user typed "reset", prompt for password to reset
            if (passwordPrompt === 'reset') {
                const resetPassword = prompt("Enter the password to reset the counter and logs:");
                // Check if the entered password for reset is correct
                if (resetPassword !== correctPassword) {
                    alert('Incorrect password for reset!');
                    return;  // Exit if the password is incorrect
                }
    
                // If the password for reset is correct, confirm reset
                if (confirm("Are you sure you want to reset the counter and clear all log entries?")) {
                    // Reset the page view count and log entries for this page
                    localStorage.setItem(`${pageKey}-pageViewCount`, 0);
                    localStorage.setItem(`${pageKey}-logEntries`, '');
    
                    // Reload the page to reflect the reset (optional)
                    location.reload(); // This refreshes the page to reset the display
                }
                return;  // Exit after the reset logic
            }
    
            // Check if the entered password for download is correct
            if (passwordPrompt !== correctPassword) {
                alert('Incorrect password!');
                return;  // Exit if the password is incorrect
            }
    
            // Create the new log entry with date, time, and page view count
            const newLogEntry = `Date and Time: ${todayDateTime}\nPage View Count: ${pageViewCount}\n`;
    
            // Prepend the new entry to the existing log entries
            logEntries = newLogEntry + logEntries;
    
            // Save the updated log entries back to localStorage for this page
            localStorage.setItem(`${pageKey}-logEntries`, logEntries);
    
            // Create the log file content (concatenating all previous entries)
            const logContent = logEntries;
    
            // Create a Blob from the log content
            const blob = new Blob([logContent], { type: 'text/plain' });
    
            // Create an object URL for the Blob
            const url = URL.createObjectURL(blob);
    
            // Create a link element to trigger the download
            const a = document.createElement('a');
            a.href = url;
            a.download = `${pageKey}-page-view-log.txt`; // Use the page-specific filename
            document.body.appendChild(a);
            a.click(); // Trigger the download
            document.body.removeChild(a);
    
            // Revoke the object URL after download
            URL.revokeObjectURL(url);
        }
    
        // Ensure the DOM is fully loaded before attaching the event listener
        document.addEventListener('DOMContentLoaded', function () {
            // Add event listener for clicking on the footer to download the log
            document.querySelector('footer').addEventListener('click', downloadLogFile);
        });
    </script>
</body>
</html>
